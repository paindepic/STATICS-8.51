# SDK FIX DOCUMENTATION

## Changes Made to Fix SDK Issues

### 1. Fixed SDK Include Path
**Problem:** Framework.h included non-existent files `SDK/UE4.h` and `SDK/Fortnite.h`  
**Solution:** Changed to `SDK/SDK.hpp` which is the actual SDK entry point

```cpp
// OLD:
#include "SDK/UE4.h"
#include "SDK/Fortnite.h"

// NEW:
#include "SDK/SDK.hpp"
```

### 2. Fixed MinHook Include
**Problem:** Include referenced `minhook/minhook.h` (lowercase)  
**Actual File:** `minhook/MinHook.h` (capital M and H)

```cpp
// OLD:
#include "minhook/minhook.h"

// NEW:
#include "minhook/MinHook.h"
```

### 3. Added MinHook Library Linking
**Problem:** MinHook library not linked in project  
**Solution:** Added library path to linker settings in .vcxproj

```xml
<AdditionalDependencies>$(ProjectDir)minhook\minhook.lib;%(AdditionalDependencies)</AdditionalDependencies>
```

### 4. Added SDK Namespace Usage
**Problem:** SDK types not accessible without namespace prefix  
**Solution:** Added `using namespace SDK;` after SDK include

```cpp
#include "SDK/SDK.hpp"

// Use SDK namespace
using namespace SDK;
```

### 5. Implemented InitGObjects Function
**Problem:** SDK declares InitGObjects() but doesn't implement it  
**Solution:** Implemented in dllmain.cpp in SDK namespace

```cpp
namespace SDK {
    void InitGObjects() {
        GObjects = reinterpret_cast<TUObjectArray*>(ImageBase + 0x5A47438);
        Log("GObjects initialized at 0x%p", GObjects);
    }
}
```

**Note:** Offset 0x5A47438 is from SDK/SDK.hpp Offsets namespace

### 6. Fixed GObjects Type
**Problem:** Code referenced FUObjectArray which doesn't exist  
**Actual Type:** TUObjectArray (defined in SDK/Basic.hpp)

### 7. Removed Duplicate InitGObjects
**Problem:** framework.h had its own InitGObjects implementation  
**Solution:** Removed it since SDK provides declaration

## SDK Structure

The Fortnite 8.51 SDK is structured as follows:

```
SDK/
├── SDK.hpp              # Main entry point - includes all other files
├── UnrealContainers.hpp # Container classes
├── PropertyFixup.hpp    # Property fixes
├── UtfN.hpp            # UTF utilities  
├── NameCollisions.inl  # Name collision fixes
└── SDK/                # Generated classes (16,000+ files)
    ├── Basic.hpp       # Basic types, TUObjectArray, TArray, etc.
    ├── CoreUObject_*.hpp
    ├── Engine_*.hpp
    ├── FortniteGame_*.hpp
    └── ... thousands more
```

## Key SDK Types and Functions

### TUObjectArray (replaces FUObjectArray)
```cpp
class TUObjectArray {
    FUObjectItem** Objects;
    int32 MaxElements;
    int32 NumElements;
    int32 MaxChunks;
    int32 NumChunks;
    
    int32 Num() const;
    class UObject* GetByIndex(const int32 Index) const;
};
```

### Offsets for 8.51
Defined in SDK/SDK.hpp:
```cpp
namespace Offsets {
    inline int32 GObjects      = 0x05A47438;
    inline int32 AppendString  = 0x01CD62A0;
    inline int32 ProcessEvent  = 0x01E7A0F0;
}
```

### Memory Functions
```cpp
namespace FMemory {
    void (*Free)(void* Array);
    void* (*Realloc)(void*, __int64, unsigned int);
}
```

## Compilation Order

The correct include order in framework.h is now:

1. Standard library headers
2. Windows.h
3. MinHook.h  
4. SDK/SDK.hpp (includes all UE4 types)
5. `using namespace SDK;`
6. Logging macros
7. Memory utilities
8. Hooking utilities
9. Globals.h
10. HelperFunctions.h (can now use UE4 types)
11. Other project headers

## Common Issues and Solutions

### Issue: Undefined UWorld, UEngine, etc.
**Cause:** Types used before SDK is included  
**Solution:** Ensure SDK/SDK.hpp is included before any code using UE4 types

### Issue: GetOffsetBRUH not found
**Cause:** Hooking namespace not defined  
**Solution:** It's in framework.h after SDK include

### Issue: AFortGameModeAthena undefined
**Cause:** FortniteGame SDK classes not included  
**Solution:** SDK.hpp includes all FortniteGame classes automatically

### Issue: TArray/FString/FName not found
**Cause:** Basic types not included  
**Solution:** SDK.hpp includes SDK/Basic.hpp automatically

## Verification Steps

To verify SDK is working:

1. Check framework.h includes SDK/SDK.hpp
2. Check `using namespace SDK;` is present
3. Check MinHook.h path is correct (capital M and H)
4. Check MinHook library is linked in .vcxproj
5. Check InitGObjects is implemented in dllmain.cpp
6. Compile and verify no "cannot open include file" errors

## Files Modified for SDK Fix

1. `/8.51/framework.h`
   - Changed SDK includes
   - Fixed MinHook include
   - Added `using namespace SDK;`
   - Removed duplicate InitGObjects

2. `/8.51/8.51.vcxproj`
   - Added MinHook library linking

3. `/8.51/dllmain.cpp`
   - Implemented SDK::InitGObjects()
   - Added GObjects pointer

## SDK Documentation

The SDK is auto-generated by Dumper-7 for Fortnite version 8.51:
- Engine Version: 4.23.0-6165369+++Fortnite+Release-8.51
- Generated by: Encryqed && Fischsalat
- Total Files: ~16,000+ header files
- Total Classes: Thousands of UE4 and Fortnite classes

All class names, structs, functions, and properties match the actual Fortnite 8.51 binary.
